<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MoleditPy Tutorial 0: Setup Guide</title>
    <link rel="stylesheet" href="tutorial_style.css">
    <link rel="icon" href="img/favicon.ico" type="image/x-icon">
</head>

<body>
    <div class="container">
        <header>
            <h1>MoleditPy PySCF Calculator Plugin Tutorial</h1>
            <h2>0. Setup Guide</h2>
            <p style="margin-top: 0.5rem; opacity: 0.8; font-size: 0.9rem;">(Mac / Linux / Windows WSL)</p>
        </header>

        <nav class="tutorial-nav">
            <details>
                <summary>Tutorial Menu</summary>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="tutorial_00_setup_en.html" class="active">0. Setup</a></li>
                    <li><a href="tutorial_01_butadiene_en.html">1. Butadiene</a></li>
                    <li><a href="tutorial_02_ethane_en.html">2. Ethane</a></li>
                    <li><a href="tutorial_03_acetone_en.html">3. Acetone</a></li>
                    <li><a href="tutorial_04_sn2_en.html">4. S<sub>N</sub>2 Reaction</a></li>
                </ul>
            </details>
        </nav>


        <section>
            <h2>Objective</h2>
            <p>This guide covers the installation and setup of MoleditPy and the PySCF Calculator plugin. Since PySCF
                may have compatibility issues on native Windows, we provide specific instructions for <strong>Windows
                    Subsystem for Linux (WSL)</strong> in addition to standard Mac/Linux setup.</p>
        </section>

        <section>
            <h2>1. For Mac / Linux Users</h2>
            <p>You can install the application directly into your standard Python environment.</p>

            <h3>Step 1: Install MoleditPy</h3>
            <ol class="step-list">
                <li>Open your terminal and run the following command to install the package:
                    <pre><code class="language-bash">pip install moleditpy-installer --break-system-packages</code></pre>
                    <p><em>* The <code>--break-system-packages</code> flag is required on recent Linux distributions
                            (e.g., Ubuntu 24.04).</em></p>
                    <details>
                        <summary style="cursor: pointer; color: #007bff; font-size: 0.9em;">(Alternative) Using a
                            virtual environment</summary>
                        <div
                            style="font-size: 0.9em; margin-top: 5px; border-left: 3px solid #ccc; padding-left: 10px;">
                            If you prefer not to modify your system packages, create a virtual environment:
                            <pre><code class="language-bash">python3 -m venv myenv
source myenv/bin/activate
pip install moleditpy-installer</code></pre>
                        </div>
                    </details>
                    <p><em>* Check the installation log. If you see a warning "WARNING: The script moleditpy-installer
                            is installed in ... which is not on PATH", please use that full path.</em></p>
                </li>
                <li>Add the local binary path to your shell configuration (Recommended):
                    <pre><code class="language-bash">echo 'export PATH=$PATH:~/.local/bin' >> ~/.bashrc
source ~/.bashrc</code></pre>
                    <p><em>* This ensures you can run commands like `moleditpy` and `moleditpy-installer` directly.</em>
                    </p>
                </li>

                <li>Create the desktop shortcut:
                    <pre><code class="language-bash">moleditpy-installer</code></pre>
                    <p><em>* If the command is not found (and you haven't set PATH), check the <code>pip install</code>
                            log for the full path (e.g.
                            <strong><code>~/.local/bin/moleditpy-installer</code></strong>).</em></p>
                </li>
                <li>Launch the application to verify installation (first run may take a moment):
                    <pre><code class="language-bash">moleditpy</code></pre>
                </li>
            </ol>

            <h3>Step 2: Install PySCF Calculator Plugin</h3>
            <ol class="step-list">
                <li>Install required libraries:
                    <pre><code class="language-bash">pip install pyscf geometric matplotlib --break-system-packages</code></pre>
                    <p><em>* If you are using a virtual environment, you can omit
                            <code>--break-system-packages</code>.</em></p>
                </li>
                <li>Download the plugin from the <a
                        href="https://hiroyokoyama.github.io/moleditpy-plugins/explorer/?q=PySCF+Calculator"
                        target="_blank">Plugin Explorer</a>.</li>
                <li>Unzip the downloaded file and place the <code>pyscf_calculator</code> folder into your plugins
                    directory:
                    <ul>
                        <li><strong>Mac/Linux:</strong> <code>~/.moleditpy/plugins/</code></li>
                    </ul>
                </li>
                <li>Restart MoleditPy. Go to <code>Extensions</code> > <code>PySCF Calculator</code> in the menu to
                    verify it loads.</li>
            </ol>
        </section>

        <section>
            <h2>2. For Windows Users (via WSL)</h2>
            <p>We strongly recommend using <strong>Windows Subsystem for Linux (WSL)</strong> to run PySCF on Windows
                for stability. (Note: Windows 11 or the latest Windows 10 is required for GUI app support via WSLg)</p>

            <h3>Step 1: Setup WSL</h3>
            <ol class="step-list">
                <li>Open PowerShell as Administrator and run:
                    <pre><code class="language-powershell">wsl --install</code></pre>
                    <p><em>* You may need to restart your computer. After restarting, create a username and password for
                            Ubuntu.</em></p>
                </li>
                <li>Open the Ubuntu terminal and update package lists:
                    <pre><code class="language-bash">sudo apt update</code></pre>
                </li>
                <li>Install required system libraries for GUI apps (PyQt6):
                    <pre><code class="language-bash">sudo apt install python3-pip \
libgl1 libegl1 libxkbcommon-x11-0 libdbus-1-3 \
libxcb-cursor0 libxcb-icccm4 libxcb-image0 libxcb-keysyms1 \
libxcb-randr0 libxcb-render-util0 libxcb-shape0 libxcb-xinerama0</code></pre>
                </li>
                <li>Set the Qt platform environment variable (Recommended for stability):
                    <pre><code class="language-bash">echo 'export QT_QPA_PLATFORM=xcb' >> ~/.bashrc
source ~/.bashrc</code></pre>
                </li>
            </ol>

            <h3>Step 2: Install MoleditPy & Plugin</h3>
            <p>Run these commands inside your WSL (Ubuntu) terminal.</p>
            <ol class="step-list">
                <li><strong>Install MoleditPy:</strong>
                    <pre><code class="language-bash">pip install moleditpy-installer --break-system-packages</code></pre>
                    <p><em>* The <code>--break-system-packages</code> flag is required on recent Linux distributions
                            (e.g., Ubuntu 24.04).</em></p>
                    <details>
                        <summary style="cursor: pointer; color: #007bff; font-size: 0.9em;">(Alternative) Using a
                            virtual environment</summary>
                        <div
                            style="font-size: 0.9em; margin-top: 5px; border-left: 3px solid #ccc; padding-left: 10px;">
                            If you prefer not to modify your system packages, create a virtual environment:
                            <pre><code class="language-bash">python3 -m venv myenv
source myenv/bin/activate
pip install moleditpy-installer</code></pre>
                        </div>
                    </details>

                </li>
                <li><strong>Install PySCF & dependencies:</strong>
                    <pre><code class="language-bash">pip install pyscf geometric matplotlib --break-system-packages</code></pre>
                    <p><em>* If you are using a virtual environment, you can omit
                            <code>--break-system-packages</code>.</em></p>
                </li>
                <li><strong>Install the Plugin:</strong>
                    <ul>
                        <li>Download and unzip the plugin from <a
                                href="https://hiroyokoyama.github.io/moleditpy-plugins/explorer/?q=PySCF+Calculator"
                                target="_blank">Plugin Explorer</a>.</li>
                        <li>Access the WSL plugin folder from Windows Explorer and copy the
                            <code>pyscf_calculator</code> folder into it.
                            <p>You can access it by typing <code>\\wsl$\Ubuntu\home\YourName\.moleditpy\plugins\</code>
                                in the address bar or via "Linux" in the navigation pane.</p>
                            <p><em>(Ensure the directory exists first)</em></p>
                            <pre><code class="language-bash">mkdir -p ~/.moleditpy/plugins</code></pre>
                        </li>
                    </ul>
                </li>
                <li><strong>Launch:</strong>
                    <pre><code class="language-bash">moleditpy</code></pre>
                    <p>MoleditPy will launch as a Linux GUI application via WSL.</p>
                </li>
            </ol>
        </section>

        <div class="nav-links">
            <a href="index.html" class="btn btn-secondary">&larr; Home</a>
            <a href="tutorial_01_butadiene_en.html" class="btn">Next: Butadiene Tutorial &rarr;</a>
        </div>
    </div>
</body>

</html>